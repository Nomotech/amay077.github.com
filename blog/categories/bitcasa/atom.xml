<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: bitcasa | Experiments Never Fail]]></title>
  <link href="http://blog.amay077.net/blog/categories/bitcasa/atom.xml" rel="self"/>
  <link href="http://blog.amay077.net/"/>
  <updated>2016-09-10T21:16:54+09:00</updated>
  <id>http://blog.amay077.net/</id>
  <author>
    <name><![CDATA[amay077]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Bitcasa 使ってたらプロバイダから利用停止措置を受けた]]></title>
    <link href="http://blog.amay077.net/blog/2013/10/09/isp-stopped-account-when-continuously-used-bitcasa/"/>
    <updated>2013-10-09T00:38:00+09:00</updated>
    <id>http://blog.amay077.net/blog/2013/10/09/isp-stopped-account-when-continuously-used-bitcasa</id>
    <content type="html"><![CDATA[<p>ある日の深夜０時過ぎ、突然自宅の PC からインターネットに接続できなくなりました。
調べてみるとフレッツ光への接続が「PPP認証エラー」になっていました。</p>

<!--more-->


<p><img src="https://dl.dropboxusercontent.com/u/264530/qiita/isp_stopped_account_when_continuously_used_bitcasa_01.png" alt="img" /></p>

<p>ルータの再起動などしても改善せず。
これは故障かな？と思いましたが、「フレッツスクウェア」には接続できてる(もうサービス終了してるけど)し、ルータの設定ページにはつながるのでその可能性は低いだろう、「フレッツか、プロバイダの障害かな？」と予想してその日は寝ました。</p>

<p>翌朝、まだネットに繋がりません。
また、スマホでテザリングして、プロバイダの会員ページにログインしようとした所、「サーバで問題が発生しています」と表示され、ログインできませんでした。
これは障害で確定だなと思いながら、プロバイダ(ODN) のサポートセンターに電話しました。</p>

<h2>電話のやりとり</h2>

<p>私：サポセンに電話する</p>

<p>自動応答：「ただいま電話が大変込み合っており…」</p>

<p>私：（そうだろうそうだろう、プロバイダの障害なら電話殺到中だろう）</p>

<p>─１０分経過─</p>

<p>サポート担当：「大変お待たせしました。」</p>

<p>私：「インターネットに突然接続できなくなったのですが。ID は○○です。」</p>

<p>サ：「かしこまりました。お調べしますので少々お待ち下さい。」</p>

<p>サ：「…お待たせいたしました。お調べ致しましたが…」</p>

<p>私：「はいはい」（障害ですよね？）</p>

<p>サ：「お客さまの ID から大量のデータがアップロードされている事が確認されましたので、こちらのご契約の <strong>利用を停止させて頂いております。</strong>」</p>

<p>私：（えーっ！）と心の中で叫びながら、「は、はぁ？」</p>

<p>サ：「何か大量のデータをアップロードされたご記憶などございますか？」</p>

<p>私：「まあ、ありますね。」（ぜったい Bitcasa だ…）</p>

<p>私：「データをインターネット上にバックアップするソフトウェアを使っていまして…それだと思います」</p>

<p>サ：「そうですか。利用の再開を行うには、今後大量のデータをアップロードしないという、口頭でのお約束が必要になります。」</p>

<p>私：「大量とは、どのくらいですか？」</p>

<p>サ：「1日15GB となっております。」</p>

<p>私：「なるほど、まあ…分かりました。」</p>

<p>サ：「ありがとうございます。では利用再開は本日中に行いますので、翌日ご確認ください。」</p>

<p>私：「はい、よろしくお願いします。」</p>

<h2>結論</h2>

<p>という事で、ネット不通の原因は、</p>

<p><strong>「1日に大量のデータをアップロードしたことによるプロバイダの規制」</strong></p>

<p>でした。</p>

<p>原因は Bitcasa で間違いないでしょう。容量無制限なのをいいことに VMware のイメージファイルなんかもバンバンアップロードして、余裕で「残り30GB」とか表示されてたので。</p>

<p>プロバイダのアップロード規制は、ファイル交換ソフトへの対策として始まり、今ではほとんどのプロバイダで行われています。</p>

<ul>
<li><a href="http://isp.oshietekun.net/">ISP規制情報Wiki</a></li>
</ul>


<p>ODN は、やや厳しめの制限なようです。</p>

<p>しかし いきなり利用停止にしちゃうんですね、ODN さん。。。
と思い、 <a href="http://www.odn.ne.jp/odn_info/20081127.html">ソース</a>を見ると、以下のように書いてありました。</p>

<blockquote><p>24時間に15GB（ギガバイト）以上の大容量データをインターネットに送信しているお客さまについては、利用制限の対象となります。制限の対象となったお客さまに対し、当社より事前にその旨をお知らせしますが、ご利用状態が改善されない場合は利用停止の後、契約解除をすることがあります。</p></blockquote>

<p>おいおい、「事前にその旨お知らせ」なんて来てないぞ？（実は来てるのか？と思って受信箱も迷惑メールフォルダも漁ったけどなかったし）。</p>

<p>まあ、これは別の機会に確認するとして、「データをクラウドにバックアップするサービス」って Bitcasa を始め Pogoplug、BackBraze などたくさん出てきてるので、今回のような「プロバイダの規制」に引っかかる人が出てくるのではないかと思います。</p>

<p>バックアップサービスに帯域制限機能があればそれが使えますが、Bitcasa には無いので、OS や別のソフトウェア、あるいはルータなどの機器で大量のデータをアップロードしないような仕組みが必要になります。我が家でも対策を検討中です。</p>

<h2>その後</h2>

<p>そんなこんなしてる間に、利用停止措置が解除されたようで、発覚から１２時間程度で対応していただけました（同時に会員ページにもログインできるようになりました）。ご丁寧に「口頭でのお約束」が文書化されてメールが来ましたよっと。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bitcasa でアップロードに失敗したファイルが見つかった時の対処方法]]></title>
    <link href="http://blog.amay077.net/blog/2013/10/02/bitcasa-when-failed-to-upload/"/>
    <updated>2013-10-02T19:30:00+09:00</updated>
    <id>http://blog.amay077.net/blog/2013/10/02/bitcasa-when-failed-to-upload</id>
    <content type="html"><![CDATA[<p>相変わらず「安定している」とは言いがたい Bitcasa さん。CPU 喰いまくったり、アップロード残が一向に減らないまま１日経過とかザラで、そういう時はアプリを終了させたり、プロセスを殺したりする訳ですが、そうしますと「正常にアップロードできてないファイル」ができる事があります。</p>

<!--more-->


<p>このファイルは、Bitcasa の Web サイトで「灰色」で表示されます(下を参照)。このファイルは Web 上で再生も、ダウンロードもできません。一方、PC の Finder や Explorer 上の Infinite Drive では、特に問題ないように見えます。が、再生や実行などしようとするとエラーになります。(キャッシュに残っている内はうまくいくかも)</p>

<p><img src="https://support.bitcasa.com/attachments/token/yw6awz1fvdktbuf/?name=noname.png" alt="img" /></p>

<p>この症状について、<a href="https://support.bitcasa.com/">Bitcasa のサポートサイト</a> で、以下の情報が見つかります。</p>

<ul>
<li><a href="https://support.bitcasa.com/entries/23768267-some-pictures-can-not-be-opened-on-my-bitcasa-com">some pictures can not be opened on my.bitcasa.com : Help Center</a></li>
</ul>


<p>これ、要約すると、</p>

<p>「キャッシュを消してアップロードしなおしてください」</p>

<p>と言ってるんですが、次の理由でやってられません。</p>

<p><strong>「どんだけフォルダあると思っとんねん！」</strong></p>

<p>そう、「アップロードに失敗したファイルを見つける方法」は、Web サイトで「灰色になっているのを目視する」しかないのです。</p>

<p>他のユーザーもこれを問題視していて、<a href="http://feedback.bitcasa.com/forums/184524-bitcasa-feature-requests-suggestions">Bitcasa の要望受付</a> には、次のような案が挙げられています。</p>

<ol>
<li><a href="http://feedback.bitcasa.com/forums/184524-bitcasa-feature-requests-suggestions/suggestions/3982870-a-incomplete-files-list-in-my-bitcasa-portal">A incomplete files list in my bitcasa portal</a></li>
<li><a href="http://feedback.bitcasa.com/forums/184524-bitcasa-feature-requests-suggestions/suggestions/4403970-mark-incomplete-corrupted-files-with-a-modified-da">Mark incomplete/corrupted files with a modified date of 01-01-1970 so that file sync utilities will sync them again</a></li>
<li><a href="http://feedback.bitcasa.com/forums/184524-bitcasa-feature-requests-suggestions/suggestions/4115823-a-option-to-delete-incomplete-files-from-my-bitcas">A option to delete incomplete files from my Bitcasa Drive</a></li>
</ol>


<p>1 が一番投票数が多くて実現の検討に入ってる(IN REVIEW)ようです。</p>

<p>で、タイトルにある「対処方法」としては、 <strong>「Vote してください」</strong> となります。なんじゃそら。</p>

<p>しかし、クラウドストレージのキモって「確実に」「クラウド上に」「ファイルが保管されている」ことだと思うんですが、この辺が危ういのなんとかしてほしいですねえ。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bitcasa(Mac)が不安定になったらこのコマンドを叩け]]></title>
    <link href="http://blog.amay077.net/blog/2013/04/12/bitcasa-clear-cache/"/>
    <updated>2013-04-12T14:18:00+09:00</updated>
    <id>http://blog.amay077.net/blog/2013/04/12/bitcasa-clear-cache</id>
    <content type="html"><![CDATA[<p><a href="http://amay077.github.com/blog/2013/03/25/bitcasa-tips-1/">Bitcasa を使っていて「おや？」と思ったこと</a> や <a href="http://amay077.github.com/blog/2013/04/01/bitcasa-troubles-1/">だんだんと Bitcasa が嫌になってきたでござるよ</a> でさまざまな Bitcasa の問題と対峙してきたわけですが、やっとそれらを克服する方法がわかりました。</p>

<!--more-->


<h2>追記 2013.10.20</h2>

<p>より新しい情報(2013/7/30)として、以下の方法が Bitcasa のサポートに挙がっていました。</p>

<ul>
<li><a href="https://support.bitcasa.com/entries/25056968-How-to-delete-the-Bitcasa-cache-Windows-and-Mac-">How to delete the Bitcasa cache (Windows and Mac) : Help Center</a></li>
</ul>


<hr />

<p>問題が起こったら、アプリを終了させて下のコマンドを叩く！</p>

<p><code>sh Bitcasa_clear_cache.sh
rm -r ~/Library/Caches/com.bitcasa.Bitcasa
rm -r ~/Library/Application\ Support/com.bitcasa.Bitcasa
</code></p>

<p>いやー、Caches の方は知ってて何度もトライしてたんですけど、Application Support の方は知りませんでしたわ。(むしろ Caches は Application Support のシンボリックリンクで、削除しても無意味というウワサも…)</p>

<p>ともあれ、この操作を行った後は、ファイルのアップロードを延々と繰り返すこともなくなった※し、Finder でコピー時にエラーが発生することもなくなり、安定した気がします。</p>

<p>※嘘でした。程なくして2GBのアップロードを繰り返すようになりました(泣)</p>

<p>出典はコチラ</p>

<ul>
<li><a href="http://support.bitcasa.com/entries/22943756-Bitcasa-is-hanging-in-status-Finalizing-">Bitcasa is hanging in status &ldquo;Finalizing&rdquo; : Bitcasa Help Center</a></li>
</ul>


<p>で、Kyle さんが @Jon さんに回答してるトコです</p>

<blockquote><p>@Jon: The &ldquo;Finalizing&rdquo; message usually indicates  a hiccup in the cache. We&rsquo;re working to figure out the root cause of this, and expect a fix in an upcoming release. In the meantime, you can work around it by doing the following:</p>

<p>1 Exit the Bitcasa Desktop App</p>

<p>2 Open Terminal and type:</p>

<p>rm -r ~/Library/Caches/com.bitcasa.Bitcasa</p>

<p>3 Press Enter, and wait few minutes</p>

<p>4 Next, type:</p>

<p>rm -r ~/Library/Application\ Support/>com.bitcasa.Bitcasa</p>

<p>5 Relaunch the Bitcasa Desktop App</p>

<p>April 04, 2013 03:04 pm</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[だんだんと Bitcasa が嫌になってきたでござるよ]]></title>
    <link href="http://blog.amay077.net/blog/2013/04/01/bitcasa-troubles-1/"/>
    <updated>2013-04-01T18:23:00+09:00</updated>
    <id>http://blog.amay077.net/blog/2013/04/01/bitcasa-troubles-1</id>
    <content type="html"><![CDATA[<p>一度狂い始めた歯車は、なかなか元には戻らないもので…。</p>

<!--more-->


<p>Bitcasa の Mac 版クライアントでいろいろトラブルが。
<strong>あくまで私の場合です。</strong>正常に動いてる人も居る…よね。</p>

<h3>2013.4.12 追記</h3>

<p>コマンドでキャッシュをクリアするとだいぶ安定するようになりました！ → <a href="http://amay077.github.io/blog/2013/04/12/bitcasa-clear-cache/">Bitcasa(Mac)が不安定になったらこのコマンドを叩け</a></p>

<h2>2G のファイルのアップロードを延々と繰り返す</h2>

<p>ある時から、2GB のファイルを何度も何度も延々と繰り返すようになりました。どのファイルかは分かりません。クライアントを更新したり、元に戻したり、アンインストールしたり、キャッシュを削除したりしても症状変わらず。</p>

<p><a href="http://amay077.github.com/blog/2013/03/29/bitcasa-tips-2/">Terminal から cp とかした</a>せいかなー。</p>

<p>ともかく、時系列から見てこの症状が全ての元凶だと思うんですが、次々と不可解な事象が。。。</p>

<h2>ミラーリングちゃんと動いてんの？</h2>

<p>デスクトップをミラーリング対象にしてあるんですけどね。
ファイルをデスクトップにコピーしたんですけど、一向に Web から参照できるようにならないです。</p>

<h2>クライアントが Exiting のままなんですけど…</h2>

<p>ファイルをコピーして、Bitcasa を Exit。Exit のまま反日放置しても終わらず。仕方ないので強制終了しました。
次回起動すると、、、コピーしたはずのファイルがありません。Web で見てもありません。大きなファイルをアップした後でこの症状になりやすい感じがします。</p>

<h2>いつ Web で見られるようになるの？</h2>

<p>「Web で見られる＝クラウドのファイルがアップされた」と判断しているのですが、クライアントでファイルをコピーして、どれだけ放置しても Web で見られません。あれこれ手順を確かめてたら、以下の流れで確認できるようになりました。</p>

<ol>
<li>クライアントでファイルをコピー</li>
<li>Bitcasa を終了 → タスクトレイアイコンが消えるまで待つ(&amp;運悪く Exiting のままにならない事を祈りながら)</li>
<li>もう一度 Bitcasa を起動する</li>
<li>起動した後、仮想ドライブが表示されるまで根気よく待つ(1分くらい)</li>
</ol>


<p>Finder に Bitcasa Infinite Drive がマウントされた時点で、Web を見てみると、1. でコピーしたファイルが確認できました。</p>

<p>前はこんなんじゃなかったけどなあ。</p>

<h2>ぜ、全滅？16GB のメモリが全滅？3分もたたずにか？…</h2>

<p>3分は言い過ぎですが、もうガンガン減ってく。頻繁に <code>purge</code> しないとスワップがスゴい。</p>

<h2>使ってるクライアントの情報</h2>

<ul>
<li>1.04 (Build 1055)</li>
<li>ProductName:  Mac OS X</li>
<li>ProductVersion:   10.8.2</li>
<li>BuildVersion: 12C2034</li>
</ul>


<p>もう、BackBlaze に帰ろうかな&hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bitcasa は Mac の Terminal で操作できたよ]]></title>
    <link href="http://blog.amay077.net/blog/2013/03/29/bitcasa-tips-2/"/>
    <updated>2013-03-29T21:05:00+09:00</updated>
    <id>http://blog.amay077.net/blog/2013/03/29/bitcasa-tips-2</id>
    <content type="html"><![CDATA[<p><a href="http://amay077.github.com/blog/2013/03/25/bitcasa-tips-1/">Bitcasa を使っていて「おや？」と思ったこと</a> の続きというか対策というか。</p>

<!--more-->


<blockquote><p>あれ？コピーしたと思ったんだけどなあ</p>

<p>Finder でコピーして &lt;中略> なんかファイル数が少ない事があったようななかったような。。。</p></blockquote>

<p>という事があって、アップし損ねたファイルをアップロードしようとした時の話。</p>

<p>ファイルを一つずつ目視確認してくのツラいので、Finder で全ファイル選択して Bitcasa 側へコピー。その後、既に存在してるファイルはスキップするか訪ねてくるので「スキップ」、これで勝つる！と思ったら、そのチェックをすり抜けてまたアップロードを始めてしまう Bitcasa さん。。。例えば hoge.dat ってファイルがアップ済で、手元の hoge.data をコピーすると既に存在してる？とか訪ねてこずにいきなり hoge2.dat とかできちゃいます。。。</p>

<p>これは厳しい。</p>

<p>(Finder で Bitcasa Infinite Drive の中をよく観察していると、ファイル名がうっすらグレイで表示されているものがあります(ローカルにキャッシュされてないファイルなのかな？)。それらは更新日付が <code>1984年1月24日火曜日 17:00</code> になってて、これらのファイルの一致確認で「一致せず」と判断されてるのではないかと思われます。)</p>

<p>Terminal でも使えればスクリプトでもなんでも使えるのですが、</p>

<ul>
<li><a href="http://www.itmedia.co.jp/pcuser/articles/1302/14/news019.html">どっちが使える？：「Pogoplug cloud」vs.「Bitcasa」――容量無制限オンラインストレージ対決 (&frac14;) &ndash; ITmedia PC USER</a></li>
</ul>


<p>には、</p>

<blockquote><p>Bitcasaはコマンドプロンプトからはディレクトリが見えない（移動、作成、削除はできる）</p></blockquote>

<p>と書いてあったのでムリかなーと思いつつ、やってみました。</p>

<p><code>
cd /Volumes/Bitcasa\ Infinite\ Drive
ls
</code></p>

<p>すると、、、<strong>見える！私にも見えるぞ！</strong></p>

<p>普通にディレクトリもファイルも確認できました。<code>cp mv mkdir</code>  などのコマンドも普通に使えました。(Windows だと NG なのかな？)</p>

<p>これならイケるで！ということでこんなコマンドを用意。</p>

<p><code>
cp -n -R . /Volumes/Bitcasa\ Infinite\ Drive/data
</code></p>

<p>カレントディレクトリ(含むサブディレクトリ)のファイルを <code>Bitcasa Infinite Drive/data</code> ディレクトリに <strong>存在しないファイルだけ</strong> コピーします。</p>

<p>ログを取りたい場合は、</p>

<p><code>
cp -n -R -v . /Volumes/Bitcasa\ Infinite\ Drive/data &gt; log.txt
</code></p>

<p>でおｋ。
注意点は <code>-n</code> は更新されてるかはチェックしてくれない事(というか、逆にタイムスタンプを判別したら Finder と同じ現象になると思う)</p>

<p>コマンドが使えるのは嬉しいですね。
Bitcasa のミラーリングバックアップはネットワークドライブに対応してませんが、定期的に cp するコマンドを走らせれば実用レベルだと思います。</p>

<h2>参考</h2>

<ul>
<li><a href="http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/cp.1.html">cp(1) OS X Manual Page</a> Linux の cp コマンドと微妙に違う。。。</li>
</ul>

]]></content>
  </entry>
  
</feed>
